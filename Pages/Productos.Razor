@page "/productos"

<div class="container">
    <div class="product-form">
        <h3>Registro de Producto</h3>

        <div class="form-group">
            <label for="nombreProducto">Nombre del Producto:</label>
            <input id="nombreProducto" class="form-control" type="text" @bind="nombreProducto" />
        </div>

        <div class="form-group">
            <label for="costo">Costo:</label>
            <input id="costo" class="form-control" type="number" step="0.01" @bind="costo" />
        </div>

        <div class="form-group">
            <label for="cantidad">Cantidad:</label>
            <input id="cantidad" class="form-control" type="number" @bind="cantidad" />
        </div>

        <div class="form-group">
            <button type="submit" class="btn btn-primary" @onclick="Guardar">Guardar</button>
        </div>
    </div>

    @if (productoss.Count > 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th>Nombre del Producto</th>
                    <th>Costo</th>
                    <th>Cantidad</th>
                    <th>Total</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var producto in productoss)
                {
                    <tr>
                        <td>@producto.NombreProducto</td>
                        <td>@producto.Costo</td>
                        <td>@producto.Cantidad</td>
                        <td>@producto.Total</td>
                    </tr>
                }
            </tbody>
        </table>
    }

    <div class="text-center">
        <a href="/">Volver al inicio</a>
    </div>
</div>

<style>
    .container {
        display: flex;
        justify-content: center;
        align-items: flex-start;
        height: 100vh;
    }

    .product-form {
        width: 350px;
    }

    .form-group {
        margin-bottom: 10px;
    }

    .text-center {
        text-align: center;
        margin-top: 20px;
    }

    .text-center a {
        color: blue;
        text-decoration: underline;
    }
</style>

@code {
    private string? nombreProducto;
    private decimal costo;
    private int cantidad;

    private List<productos> productoss = new List<productos>();

    private void Guardar()
    {
        if (!string.IsNullOrWhiteSpace(nombreProducto) && costo > 0 && cantidad > 0)
        {
            var total = costo * cantidad;
            var productos = new productos(nombreProducto, costo, cantidad, total);
            productoss.Add(productos);

            // Limpiar los campos despu√©s de guardar
            nombreProducto = string.Empty;
            costo = 0;
            cantidad = 0;
        }
    }

    public class productos
    {
        public productos(string nombreProducto, decimal costo, int cantidad, decimal total)
        {
            NombreProducto = nombreProducto;
            Costo = costo;
            Cantidad = cantidad;
            Total = total;
        }

        public string NombreProducto { get; set; }
        public decimal Costo { get; set; }
        public int Cantidad { get; set; }
        public decimal Total { get; set; }
    }
}

